language: php

sudo: false

matrix:
    include:
        - php: 8.2
          env: DOCTRINE="3.5.*"
          env: JMS="1.7.*"
        - php: 8.2
          env: DOCTRINE="3.5.*"
          env: JMS="2.1.*"
        - php: 8.4
          env: DOCTRINE="3.5.*"
          env: JMS="1.7.*"
        - php: 8.4
          env: DOCTRINE="3.5.*"
          env: JMS="2.1.*"

before_install:
  - if [ "$DOCTRINE" != "" ]; then composer require --dev --no-update doctrine/orm=$DOCTRINE; fi
  - if [ "$JMS" != "" ]; then composer require --dev --no-update jms/metadata=$JMS; fi

install:
  - composer update --prefer-dist

script: phpunit
